# PR-009: Bildbearbeitung vor Analyse (Crop, Helligkeit, Kontrast)

**Status:** üî¥ Offen
**Priorit√§t:** ‚ö° Mittel
**Typ:** ‚ú® Feature
**Erstellt:** 2026-02-18
**Erledigt:** ‚Äî

## Beschreibung
Wenn ein User ein Foto macht oder hochl√§dt, muss er es **vor der Analyse** bearbeiten k√∂nnen. Ziel: Exakte Textbl√∂cke ausw√§hlen (z.B. aus B√ºchern mit Bildern) und die Bildqualit√§t f√ºr die OCR/Analyse optimieren.

## Aktueller Zustand
Foto wird direkt nach Aufnahme/Upload an die Analyse geschickt ‚Äì keine Bearbeitungsm√∂glichkeit.

## Gew√ºnschter Zustand
Nach Foto-Aufnahme oder Bild-Upload √∂ffnet sich ein **Bearbeitungs-Zwischenschritt** mit folgenden Funktionen:

### 1. Cropping / Zuschneiden
- User kann einen Ausschnitt w√§hlen (Rechteck, frei ziehbar)
- Wichtig f√ºr: Textbl√∂cke aus Seiten mit Bildern, Spalten, Marginalien ausschneiden
- Typischer Anwendungsfall: Schulbuch-Seite mit Text und Illustrationen ‚Äì User will nur den Text

### 2. Helligkeit
- Schieberegler f√ºr Helligkeit
- Wichtig f√ºr: Fotos bei schlechtem Licht, Schatten auf der Seite

### 3. Kontrast
- Schieberegler f√ºr Kontrast
- Wichtig f√ºr: Schwacher Druck, vergilbtes Papier, heller Text auf hellem Grund

### Workflow
1. User macht Foto / l√§dt Bild hoch
2. Bearbeitungsansicht √∂ffnet sich (Crop + Helligkeit/Kontrast)
3. User passt an und best√§tigt
4. Erst dann wird das bearbeitete Bild an die Analyse geschickt

## Betroffene Dateien
- [ ] Kamera-/Upload-Komponente (identifizieren)
- [ ] Neue Bildbearbeitungs-Komponente (erstellen)
- [ ] Analyse-Pipeline (Bearbeitungsschritt einf√ºgen)

## Umsetzungsschritte
- [ ] Geeignete Library evaluieren (z.B. react-image-crop, Cropper.js, oder Canvas-basiert)
- [ ] Bearbeitungs-UI erstellen: Crop-Bereich, Helligkeit-Slider, Kontrast-Slider
- [ ] Vorschau in Echtzeit (User sieht sofort, wie sich √Ñnderungen auswirken)
- [ ] "Best√§tigen"-Button, der das bearbeitete Bild weitergibt
- [ ] Integration in bestehenden Foto-/Upload-Flow
- [ ] Testen auf Mobile (iOS/Android) ‚Äì hier ist Touch-Bedienung f√ºr Crop besonders wichtig
- [ ] Testen auf Desktop
- [ ] Performance pr√ºfen (grosse Bilder, √§ltere Ger√§te)

## Notizen
- Mobile-Usability ist kritisch: Crop-Gesten m√ºssen intuitiv funktionieren (Pinch-to-Zoom, Drag zum Verschieben des Ausschnitts)
- Optional f√ºr sp√§ter: Rotation (90¬∞-Schritte), falls Fotos verdreht sind
- Die Bearbeitungsansicht soll sich ins bestehende Design einf√ºgen (Design-Guidelines beachten)
