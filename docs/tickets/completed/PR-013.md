# PR-013: System-Prompt fÃ¼r Textvereinfachung Ã¼berarbeiten

**Status:** ğŸŸ¢ Erledigt
**PrioritÃ¤t:** ğŸ”¥ Hoch
**Typ:** ğŸ› Bug / âœ¨ Feature
**Erstellt:** 2026-02-18
**Erledigt:** 2026-02-18

## Beschreibung
Der aktuelle System-Prompt fÃ¼r die Textvereinfachung liefert keine ausreichend guten Ergebnisse. Die bestehenden Markdown-Regeln zu einfacher und leichter Sprache reichen nicht aus â€“ insbesondere leidet die **InhaltskohÃ¤renz** bei der Vereinfachung. ZusammenhÃ¤nge gehen verloren oder werden falsch wiedergegeben.

## Umsetzung

### Neue Prompt-Architektur in `src/app/actions.ts`

1. **System-Message (Rolle):** Neuer `system`-Parameter im API-Call definiert die Rolle als "Analytiker fÃ¼r didaktische Materialien" â€” fokussiert auf Inhaltserhaltung, Fliesstextcharakter und Glossar-Erstellung.

2. **Basis-Instruktionen (beide Modi):** 4-Schritte-Prozess fÃ¼r jede Vereinfachung:
   - Analyse logisch zusammenhÃ¤ngender Abschnitte
   - Fliesstext-Erkennung mit Erhalt von Struktur, KohÃ¤renz und Satzfluss
   - Aktive Vereinfachung ohne InformationskÃ¼rzung
   - BegriffserklÃ¤rungen im Text + Glossar nach Vorkommen sortiert

3. **Modus-spezifische Regeln:** Bestehende Regeln fÃ¼r Einfache Sprache (B1-B2) und Leichte Sprache (A1-A2) beibehalten als Differenzierung.

4. **max_tokens:** Von 1024 auf 4096 erhÃ¶ht (Glossar braucht Platz).

### Neues Feature: Glossar
Schwierige Begriffe werden jetzt erklÃ¤rt:
- Im Text (KlammerergÃ¤nzungen, kurze NebensÃ¤tze)
- In einem Glossar am Textende (nach Vorkommen sortiert)

## Betroffene Dateien
- [x] `src/app/actions.ts` â€” System-Prompt, Basis-Instruktionen, max_tokens
